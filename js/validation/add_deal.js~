
$(document).ready(function(){

	$.validator.addMethod("email", function(value, element) {
		var rege = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
		if($('#seller_support_email').val().length > 0)
		{
			return rege.test($('#seller_support_email').val());
		}else
		{
			return true;
		}
	},"Please enter valid email address");
	

	$.validator.addMethod("valid_editor", function(value, element) {
		var editorcontent = CKEDITOR.instances[element.name].getData().replace(/<[^>]*>/gi, '');
		if (editorcontent.length)
		{
			return true;
		}else
		{
			return false;
		}
     }, "Please enter description");

	$.validator.addMethod("check_price", function( value, element, param ) {
		var val_a = $("#price").val();
		//return this.optional(element) || (value >= val_a);
		var resVal = eval(value - val_a);
		return (resVal >= 0);
	},"Please enter Original price must be greater than Usortd price.");

	









	$.validator.addMethod("numdotOnly", function(value, element){
		var temp;
		temp = true;
		str = /[^0-9.]/;
		temp = !str.test(value);
		
		if(temp)
		{
			var prodDiscprice = value;
			var totDotInprodDiscprice = 0;
			var noFirstDotInprodDiscprice = 'no';
			for(var i=0; i<prodDiscprice.length;i++)
			{
				if(prodDiscprice[0] == '.')
				{
					noFirstDotInprodDiscprice = 'yes';
				}
			
				if(prodDiscprice[i] == '.')
				{
					totDotInprodDiscprice++;
				}
			}
			if(totDotInprodDiscprice > 1 || noFirstDotInprodDiscprice == 'yes'){
				temp = false;
			}else{
				temp = true;
			}
		}
		return temp;
	}, "Only numbers and .(decimal) is allowed.");



	$.validator.addMethod("numGreatZero", function(value, element)
	{
			var temp;
			temp = true;
			temp = !(value<=0);
			return temp;
         }, "Please enter value must be greater than zero(0)");





	
	$.validator.addMethod("postcodes", function(value, element){
                var temp;
                temp = true;
                str = /[^a-zA-Z0-9 ]/;
                temp = !str.test(value);
                return temp;
         }, "Only 0 to 9, a to z, A to Z and space is allowed.");



	$("#frm").validate({
	
		errorElement:'div',
		rules: {
			maincategory:{
				required: true
			},
			dealcountry: {
				required: true
			},
			title1:{
				//required: true,
				//maxlength:255
				valid_editor: true
			},
			subtitle:{
				//required: true,
				//maxlength:255
				valid_editor: true
			},
			deal_from_seller_name:{
				//required: true
			},
			deal_from_seller_name_other:{
				required:  function(){
							var dlFromSellName = document.getElementById("deal_from_seller_name").value;
							if(dlFromSellName == "" || dlFromSellName == "other_seller")
							{
								return true;
							}else{
								return false;
							}
						},
				maxlength:function(){
							var dlFromSellName = document.getElementById("deal_from_seller_name").value;
							if(dlFromSellName == "" || dlFromSellName == "other_seller")
							{
								return 255;
							}else{
								return 255;
							}
						}
			},
			zipcode:{
				required: true,
				postcodes: true,
				minlength:6,
				maxlength:8
			},
			description:{
				//required: true,
				valid_editor: true
			},
			highlight:{
				//required: true,
				valid_editor: true
			},
			fineprint:{
				//required: true,
				valid_editor: true
			},
			qr_code_link:{
			         url:true
			 
			},
			qr_code_image:{
			 accept: "jpg|png|gif"
			},
			sub_delivery_cost:{
				required: true,
				numdotOnly : true,
				maxlength:6
			},
			seller_support_email:{
				email: true
			},
			trackURL:{
// 				required: true,
				//url:true,
				maxlength:255
			},
			delivered_tracking_url_code:{
// 				required: true,
				//url:true,
				maxlength:255
			},
			otherproductURL:{
// 				required: true,
				url:true,
				maxlength:100
			},
			videolink:{
// 				required: true,
				url:true,
				maxlength:100
			},
			retailerwebURL:{
// 				required: true,
				url:true,
				maxlength:100
			},
			retailer_website_affiliate_link:{
// 				required: "Please enter retailer website affiliate link",
				maxlength:255
			},
			price:{
				required
				numdotOnlyNotForGroupType : true,
				numGreatZeroNotForGroupType : true,
				maxlength:7
			},
			originalprice:{
				required: true,
				numdotOnly : true,
				check_price:true,
				numGreatZero : true,
				maxlength:7
			},
			seller_account_no:{
				required: true,
				numeric : true
			}
		},
		messages: {
			maincategory:{
				required: "Please select deal category"
			},
			dealcountry:{
				required: "Please select Deal city"
			},
			title1:{
				//required: "Please enter title",
            			//maxlength:$.format("Enter maximum {0} characters")
				valid_editor: "Please enter title"
			},
			subtitle:{
				//required: "Please enter sub title",
            			//maxlength:$.format("Enter maximum {0} characters")
				valid_editor: "Please enter sub title"
			},
			deal_from_seller_name:{
				//required: "Please select seller name"
			},
			deal_from_seller_name_other:{
				required: "Please enter seller name",
            			maxlength:$.format("Enter maximum {0} characters")
			},
			zipcode:{
				required: "Please enter seller post code",
				postcodes: "Please enter valid post code/zip code",
				minlength: $.format("Enter minimum {0} characters"),
				maxlength:$.format("Enter maximum {0} characters")
			},
			description:{
				//required: "Please enter description.",
				valid_editor: "Please enter key features."
			},
               highlight:{
				//required: "Please enter highlight.",
				valid_editor: "Please enter highlight."
			},
               fineprint:{
				//required: "Please enter fineprint.",
				valid_editor: "Please enter fineprint."
			},
			qr_code_link:{
			         url:"Please provide valid url format"
			 
			},
			qr_code_image:{
			         accept: "Please provide .jpg,.gif,.png file format"
			},
			sub_delivery_cost:{
				required: "Please enter delivery charges",
				numdotOnly : "Please enter valid delivery charges",
				maxlength:$.format("Enter maximum {0} digits")
			},
			seller_support_email:{
				email: "Please enter valid seller support email"
			},
			trackURL:{
// 				required: "Please enter track URL",
				//url: "Please enter valid URL",
				maxlength:$.format("Enter maximum {0} characters")
			},
			delivered_tracking_url_code:{
// 				required: "Please enter delivered tracking URL code",
				//url: "Please enter valid URL",
				maxlength:$.format("Enter maximum {0} characters")
			},
			otherproductURL:{
// 				required: "Please enter other product/services URL",
				url: "Please enter valid URL",
				maxlength:$.format("Enter maximum {0} characters")
			},
			videolink:{
// 				required: "Please enter video URL",
				url: "Please enter valid URL",
				maxlength:$.format("Enter maximum {0} characters")
			},
			retailerwebURL:{
// 				required: "Please enter other retailer website URL",
				url: "Please enter valid URL",
				maxlength:$.format("Enter maximum {0} characters")
			},
			retailer_website_affiliate_link:{
// 				required: "Please enter retailer website affiliate link",
				maxlength:$.format("Enter maximum {0} characters")
			},
			price:{
				required: "Please enter usortd buy price",
				maxlength:$.format("Enter maximum {0} digits")
			},
			originalprice:{
				required:"Please enter original price",
				maxlength:$.format("Enter maximum {0} digits")
			},
		seller_account_no:{
				required: "Please enter seller account number",
				numeric : "Please enter valid account number (only numeric)"
			}
		}
	});

});

/////////////END js code for Delivery Options///////////////